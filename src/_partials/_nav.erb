<header class="bg-skin-nav">
  <nav class="px-4 mx-auto max-w-7xl sm:px-6 lg:px-8" aria-label="Top">
    <div class="flex items-center justify-between w-full py-4 border-b border-skin-divider md:border-none">
      <div class="flex items-center">
        <a href="/">
          <span class="sr-only">Andrew Mason</span>
          <%= render Image.new(src: site.data.authors.andrew.picture, alt: site.data.authors.andrew.name, classes: "shadow-inner h-8 w-auto rounded-full inline-block", loading: "eager", width: 32, height: 32) %>
        </a>
        <div class="hidden ml-10 space-x-4 md:block">
          <% site.data.navigation.navbar.each do |nav| %>
            <%= render Link.new(href: nav.url, classes: "align-middle", key: nav.title).with_content(nav.title) %>
          <% end %>
        </div>
      </div>
      <div class="flex items-center ml-10 space-x-4">
        <button x-data="{
                        toggle: () => {
                            if (localStorage.theme === 'dark') {
                                localStorage.theme = 'light';
                                document.documentElement.classList.remove('dark');
                            } else {
                                localStorage.theme = 'dark';
                                document.documentElement.classList.add('dark');
                            }
                        },
                    }" class="inline-block px-2 py-1 border border-transparent rounded-md focus:outline-none hover:text-skin-primary" @click="toggle">
          <%= svg "/images/theme.svg", class: "" %>
        </button>
        <%= render Link.new(href: site.metadata.twitter.url) do %>
          <span class="sr-only">Twitter</span>
          <%= svg "/images/twitter.svg", class: "text-[#1DA1F2] w-5 h-5", "aria-hidden": true %>
        <% end %>
      </div>
    </div>
    <div class="flex flex-wrap justify-center py-4 space-x-6 md:hidden">
      <% site.data.navigation.navbar.each do |nav| %>
        <%= render Link.new(href: nav.url, classes: "align-middle", key: nav.title).with_content(nav.title) %>
      <% end %>
    </div>
  </nav>
</header>
